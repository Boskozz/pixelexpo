{% extends 'admin/base.html.twig' %}

{% block title %}Tableau de bord{% endblock %}

{% block body %}
    <div class="container">
        <div class="row mt-3">
            <div class="col-md-3" style="height: 100px">
                <div class="card bg-success text-white mb-3 text-center">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-4">
                                <i class="fas fa-users fa-3x"></i>
                            </div>
                            <div class="col-8">
                                <h5 class="card-title">{{ users }}
                                    Utilisateurs</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3" style="height: 100px">
                <div class="card bg-primary text-white mb-3 text-center">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-4">
                                <i class="fas fa-project-diagram fa-3x"></i>
                            </div>
                            <div class="col-8">
                                <h5 class="card-title">{{ projets }}
                                    Projets</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3" style="height: 100px">
                <div class="card bg-warning text-white mb-3 text-center">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-4">
                                <i class="fas fa-images fa-3x"></i>
                            </div>
                            <div class="col-8">
                                <h5 class="card-title">{{ albums }}
                                    Albums</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-3" style="height: 100px">
                <div class="card bg-danger text-white mb-3 text-center">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-4">
                                <i class="far fa-image fa-3x"></i>
                            </div>
                            <div class="col-8">
                                <h5 class="card-title">{{ photos }}
                                    Photos</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <h4>Photos les mieux notées</h4>
                {% for key, bestPic in bestPics %}
                    <div class="row">
                        <div class="col-md-8">
                            <a href="{{ path('public_picture', {slug: bestPic.slug, id: bestPic.id, username: bestPic.username}) }}" class="text-white">
                                {{ bestPic.title }}
                                <div><img src="/media/cache/rsgalerie/media/images/{{ bestPic.filename }}" alt=""></div>
                            </a>
                        </div>
                        <div class="col-md-4">
                            {{ include('partials/_rating.html.twig', {rating: bestPic.note}) }}
                        </div>
                    </div>
                {% endfor %}
            </div>
            <div class="col-md-6">
                <h4>Photos les moins bien notées</h4>
                {% for key, worstPic in worstPics %}
                    <div class="row">
                        <div class="col-md-8">
                            <a href="{{ path('public_picture', {slug: worstPic.slug, id: worstPic.id, username: worstPic.username}) }}" class="text-white">
                                {{ worstPic.title }}
                                <div><img src="/media/cache/rsgalerie/media/images/{{ worstPic.filename }}" alt=""></div>
                            </a>
                        </div>
                        <div class="col-md-4">
                            {{ include('partials/_rating.html.twig', {rating: worstPic.note}) }}
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}